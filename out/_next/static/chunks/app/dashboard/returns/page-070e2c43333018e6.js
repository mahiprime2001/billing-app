(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1489],{16485:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},42529:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},67961:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(95155),a=r(12115),l=r(83209),n=r(97003),d=r(96633),c=r(67812),i=r(26983),x=r(26617),o=r(20508),m=r(69141),u=r(91761),h=r(16485),j=r(42529),f=r(78874),p=r(54485),N=r(10832);function y(){let[e,t]=(0,a.useState)([]),[r,y]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),[A,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{b(!0),w(null);try{let e=await fetch("".concat("http://127.0.0.1:8080","/api/returns"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let r=await e.json();t(r.filter(e=>"pending"===e.status)),y(r.filter(e=>"pending"!==e.status))}catch(e){console.error("Error loading returns data:",e),w("Failed to load returns data. Please try again later.")}finally{b(!1)}},R=async(e,t)=>{if(confirm("Are you sure you want to ".concat(t," this return request?")))try{let r=await fetch("".concat("http://127.0.0.1:8080","/api/returns/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));alert("Return request ".concat(t," successfully!")),v()}catch(e){console.error("Error updating return status to ".concat(t,":"),e),alert("Failed to update return status to ".concat(t,". Please try again."))}};return g?(0,s.jsx)(N.default,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}):A?(0,s.jsx)(N.default,{children:(0,s.jsx)("div",{className:"text-red-500 text-center py-8",children:A})}):(0,s.jsx)(N.default,{children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Returns Management"}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{className:"flex items-center",children:[(0,s.jsx)(i.A,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Pending Return Requests",(0,s.jsx)(c.E,{variant:"outline",className:"ml-2 bg-yellow-100 text-yellow-800",children:e.length})]})}),(0,s.jsx)(l.Wu,{children:e.length>0?(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"Return ID"}),(0,s.jsx)(d.nd,{children:"Product"}),(0,s.jsx)(d.nd,{children:"Customer"}),(0,s.jsx)(d.nd,{children:"Amount"}),(0,s.jsx)(d.nd,{children:"Requested On"}),(0,s.jsx)(d.nd,{children:"Actions"})]})}),(0,s.jsx)(d.BF,{children:e.map(e=>(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{className:"font-medium",children:e.return_id}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1 text-gray-500"}),e.product_name]})}),(0,s.jsxs)(d.nA,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-1 text-gray-500"}),e.customer_name]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.customer_phone_number]})]}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1 text-green-600"}),"₹",e.return_amount.toFixed(2)]})}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,s.jsx)(h.A,{className:"h-3 w-3 mr-1"}),new Date(e.created_at).toLocaleDateString()]})}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>R(e.return_id,"approved"),children:[(0,s.jsx)(j.A,{className:"h-4 w-4 mr-1 text-green-500"}),"Approve"]}),(0,s.jsxs)(n.$,{variant:"destructive",size:"sm",onClick:()=>R(e.return_id,"rejected"),children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mr-1"}),"Reject"]})]})})]},e.return_id))})]}):(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No pending return requests."})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{className:"flex items-center",children:[(0,s.jsx)(p.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Return History",(0,s.jsx)(c.E,{variant:"outline",className:"ml-2 bg-blue-100 text-blue-800",children:r.length})]})}),(0,s.jsx)(l.Wu,{children:r.length>0?(0,s.jsxs)(d.XI,{children:[(0,s.jsx)(d.A0,{children:(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nd,{children:"Return ID"}),(0,s.jsx)(d.nd,{children:"Product"}),(0,s.jsx)(d.nd,{children:"Customer"}),(0,s.jsx)(d.nd,{children:"Amount"}),(0,s.jsx)(d.nd,{children:"Status"}),(0,s.jsx)(d.nd,{children:"Last Updated"})]})}),(0,s.jsx)(d.BF,{children:r.map(e=>(0,s.jsxs)(d.Hj,{children:[(0,s.jsx)(d.nA,{className:"font-medium",children:e.return_id}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1 text-gray-500"}),e.product_name]})}),(0,s.jsxs)(d.nA,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-1 text-gray-500"}),e.customer_name]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.customer_phone_number]})]}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-1 text-green-600"}),"₹",e.return_amount.toFixed(2)]})}),(0,s.jsx)(d.nA,{children:(0,s.jsx)(c.E,{variant:"outline",className:"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,s.jsx)(d.nA,{children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,s.jsx)(h.A,{className:"h-3 w-3 mr-1"}),new Date(e.updated_at).toLocaleDateString()]})})]},e.return_id))})]}):(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No other return requests found."})})]})]})})}},69141:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},78874:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},83209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>x,ZB:()=>c,Zp:()=>n,aR:()=>d});var s=r(95155),a=r(12115),l=r(25016);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});i.displayName="CardDescription";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});x.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},86888:(e,t,r)=>{Promise.resolve().then(r.bind(r,67961))},91761:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},96633:(e,t,r)=>{"use strict";r.d(t,{A0:()=>d,BF:()=>c,Gg:()=>i,Hj:()=>x,XI:()=>n,nA:()=>m,nd:()=>o});var s=r(95155),a=r(12115),l=r(25016);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...a})});d.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})});i.displayName="TableFooter";let x=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n,children:a})});x.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});m.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"}},e=>{e.O(0,[3194,6445,939,832,8441,1255,7358],()=>e(e.s=86888)),_N_E=e.O()}]);