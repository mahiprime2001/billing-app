(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1489],{16485:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},42529:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},67961:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(95155),a=s(12115),l=s(83209),n=s(97003),d=s(96633),c=s(67812),i=s(26983),x=s(78874),o=s(26617),m=s(20508),h=s(69141),u=s(91761),j=s(16485),f=s(42529),p=s(54485),N=s(10832);function y(){let[e,t]=(0,a.useState)([]),[s,y]=(0,a.useState)([]),[g,A]=(0,a.useState)(!0),[v,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{b()},[]);let b=async()=>{A(!0),w(null);try{let e=await fetch("".concat("http://127.0.0.1:8080","/api/returns"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();t(s.filter(e=>"pending"===e.status)),y(s.filter(e=>"pending"!==e.status))}catch(e){console.error("Error loading returns data:",e),w("Failed to load returns data. Please try again later.")}finally{A(!1)}},R=async(e,t)=>{if(confirm("Are you sure you want to ".concat(t," this return request?")))try{let s=await fetch("".concat("http://127.0.0.1:8080","/api/returns/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));alert("Return request ".concat(t," successfully!")),b()}catch(e){console.error("Error updating return status to ".concat(t,":"),e),alert("Failed to update return status to ".concat(t,". Please try again."))}},k=e=>e.returnId||e.return_id||"",C=e=>e.productName||e.product_name||"N/A",T=e=>e.customerName||e.customer_name||"N/A",_=e=>e.customerPhoneNumber||e.customer_phone_number||"N/A",H=e=>e.returnAmount||e.return_amount||0;return g?(0,r.jsx)(N.default,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(i.A,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-gray-400"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading returns data..."})]})})}):v?(0,r.jsx)(N.default,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(x.A,{className:"h-12 w-12 mx-auto mb-4 text-red-500"}),(0,r.jsx)("p",{className:"text-red-600",children:v}),(0,r.jsx)(n.$,{onClick:b,className:"mt-4",children:"Retry"})]})})}):(0,r.jsx)(N.default,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Returns Management"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage product returns and refund requests"})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"h-5 w-5 text-yellow-600"}),"Pending Return Requests",(0,r.jsx)(c.E,{variant:"secondary",className:"ml-2",children:e.length})]})}),(0,r.jsx)(l.Wu,{children:e.length>0?(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(d.XI,{children:[(0,r.jsx)(d.A0,{children:(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nd,{children:"Return ID"}),(0,r.jsx)(d.nd,{children:"Product"}),(0,r.jsx)(d.nd,{children:"Customer"}),(0,r.jsx)(d.nd,{children:"Amount"}),(0,r.jsx)(d.nd,{children:"Requested On"}),(0,r.jsx)(d.nd,{children:"Actions"})]})}),(0,r.jsx)(d.BF,{children:e.map(e=>(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nA,{className:"font-medium",children:k(e)}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 text-blue-600"}),C(e)]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-500"}),T(e)]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(h.A,{className:"h-3 w-3"}),_(e)]})]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1 font-semibold text-green-600",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"₹",H(e).toFixed(2)]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),new Date(e.createdAt||e.created_at||new Date().toISOString()).toLocaleDateString()]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(n.$,{size:"sm",variant:"default",onClick:()=>R(k(e),"approved"),className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,r.jsxs)(n.$,{size:"sm",variant:"destructive",onClick:()=>R(k(e),"rejected"),children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Reject"]})]})})]},k(e)))})]})}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,r.jsx)(i.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,r.jsx)("p",{children:"No pending return requests."})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 text-blue-600"}),"Return History",(0,r.jsx)(c.E,{variant:"secondary",className:"ml-2",children:s.length})]})}),(0,r.jsx)(l.Wu,{children:s.length>0?(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(d.XI,{children:[(0,r.jsx)(d.A0,{children:(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nd,{children:"Return ID"}),(0,r.jsx)(d.nd,{children:"Product"}),(0,r.jsx)(d.nd,{children:"Customer"}),(0,r.jsx)(d.nd,{children:"Amount"}),(0,r.jsx)(d.nd,{children:"Status"}),(0,r.jsx)(d.nd,{children:"Last Updated"})]})}),(0,r.jsx)(d.BF,{children:s.map(e=>(0,r.jsxs)(d.Hj,{children:[(0,r.jsx)(d.nA,{className:"font-medium",children:k(e)}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 text-blue-600"}),C(e)]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-500"}),T(e)]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(h.A,{className:"h-3 w-3"}),_(e)]})]})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-1 font-semibold text-green-600",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"₹",H(e).toFixed(2)]})}),(0,r.jsx)(d.nA,{children:(0,r.jsx)(c.E,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"secondary",children:e.status&&e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsx)(d.nA,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),new Date(e.updatedAt||e.updated_at||new Date().toISOString()).toLocaleDateString()]})})]},k(e)))})]})}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,r.jsx)(p.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,r.jsx)("p",{children:"No other return requests found."})]})})]})]})})}},69141:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},78874:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},83209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>x,ZB:()=>c,Zp:()=>n,aR:()=>d});var r=s(95155),a=s(12115),l=s(25016);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});x.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},86888:(e,t,s)=>{Promise.resolve().then(s.bind(s,67961))},91761:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(71847).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},96633:(e,t,s)=>{"use strict";s.d(t,{A0:()=>d,BF:()=>c,Gg:()=>i,Hj:()=>x,XI:()=>n,nA:()=>m,nd:()=>o});var r=s(95155),a=s(12115),l=s(25016);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})});n.displayName="Table";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...a})});d.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})});c.displayName="TableBody";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})});i.displayName="TableFooter";let x=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n,children:a})});x.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});o.displayName="TableHead";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});m.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption"}},e=>{e.O(0,[9206,6445,5239,3343,832,8441,1255,7358],()=>e(e.s=86888)),_N_E=e.O()}]);