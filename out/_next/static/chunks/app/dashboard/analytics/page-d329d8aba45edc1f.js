(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{47507:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>p,gC:()=>f,l6:()=>c,yv:()=>u});var a=s(95155),l=s(12115),r=s(47887),d=s(24033),n=s(12108),o=s(5917),i=s(25016);let c=r.bL;r.YJ;let u=r.WT,m=l.forwardRef((e,t)=>{let{className:s,children:l,...n}=e;return(0,a.jsxs)(r.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.l9.displayName;let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.PP,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wn,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});x.displayName=r.wn.displayName;let f=l.forwardRef((e,t)=>{let{className:s,children:l,position:d="popper",...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,i.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(x,{})]})})});f.displayName=r.UC.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=r.JU.displayName;let p=l.forwardRef((e,t)=>{let{className:s,children:l,...d}=e;return(0,a.jsxs)(r.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:l})]})});p.displayName=r.q7.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.wv.displayName},63290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var a=s(95155),l=s(12115),r=s(20063),d=s(10832),n=s(83209),o=s(67812),i=s(97003),c=s(90235),u=s(47507),m=s(96633),h=s(90923),x=s(26991),f=s(73850),p=s(94621),j=s(47734),y=s(73697),g=s(10232),v=s(98128),N=s(68425),b=s(58155),w=s(80019),S=s(57095),A=s(12723),R=s(4035),_=s(69386),T=s(89559),F=s(39867),D=s(63581),P=s(91761),B=s(10512),I=s(26617),k=s(80534),M=s(55136),E=s(1524),C=s(26921),G=s(81577),Z=s(78674),V=s(88901),L=s(71163),K=s(79956),W=s(53317),q=s(99152);let O=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"];function U(){var e,t,U,z;let Q=(0,r.useRouter)(),[H,J]=(0,l.useState)([]),[X,Y]=(0,l.useState)([]),[$,ee]=(0,l.useState)([]),[et,es]=(0,l.useState)([]),[ea,el]=(0,l.useState)([]),[er,ed]=(0,l.useState)([]),[en,eo]=(0,l.useState)([]),[ei,ec]=(0,l.useState)([]),[eu,em]=(0,l.useState)(null),[eh,ex]=(0,l.useState)(null),[ef,ep]=(0,l.useState)(!0),[ej,ey]=(0,l.useState)(!1),[eg,ev]=(0,l.useState)("all"),[eN,eb]=(0,l.useState)("all"),[ew,eS]=(0,l.useState)({from:(0,Z.w)(new Date),to:(0,V.p)(new Date)}),eA=async()=>{await fetch("/api/sync/pull",{method:"POST"});let e=await fetch("/api/analytics/users/online?windowMinutes=5").then(e=>e.json()),t=new Date().toISOString().slice(0,10),s=await fetch("/api/analytics/users/sessions?from=".concat(t,"&to=").concat(t)).then(e=>e.json());em(e),ex(s),ep(!0);try{console.log("Fetching data from API endpoints...");let[e,t,s,a]=await Promise.all([fetch("/api/bills"),fetch("/api/stores"),fetch("/api/products"),fetch("/api/users")]);if(!e.ok)throw Error("Failed to fetch bills");if(!t.ok)throw Error("Failed to fetch stores");if(!s.ok)throw Error("Failed to fetch products");if(!a.ok)throw Error("Failed to fetch users");let[l,r,d,n]=await Promise.all([e.json(),t.json(),s.json(),a.json()]);console.log("Fetched data:",{bills:l.length,stores:r.length,products:d.length,users:n.length}),console.log("Sample store IDs:",r.map(e=>e.id)),console.log("Sample bill store IDs:",[...new Set(l.map(e=>e.storeId))]),J(l),Y(r),ee(d),es(n)}catch(e){console.error("Error loading data:",e),alert("Failed to load analytics data. Please try again.")}finally{ep(!1)}};(0,l.useEffect)(()=>{let e=localStorage.getItem("adminLoggedIn"),t=localStorage.getItem("adminUser");if("true"!==e||!t)return void Q.push("/");if("super_admin"!==JSON.parse(t).role)return void Q.push("/dashboard");eA();let s=setInterval(eA,6e4);return()=>clearInterval(s)},[Q]),(0,l.useEffect)(()=>{H.length>0&&(eD(),eF()),et.length>0&&eT()},[H,et,ew]);let eR=e=>(null==ew?void 0:ew.from)&&(null==ew?void 0:ew.to)?e.filter(e=>{let t=new Date(e.timestamp);return t>=ew.from&&t<=ew.to}):e,e_=e=>"store_1"===e?"STR-1722255700000":e.startsWith("STR-")?e:e.startsWith("store_")?"STR-".concat(e.replace("store_",""),"000000"):e,eT=()=>{let e=et.filter(e=>{if(!(null==ew?void 0:ew.from)||!(null==ew?void 0:ew.to))return!0;let t=new Date(e.lastLogged);return t>=ew.from&&t<=ew.to}),t={};e.forEach(e=>{let s=new Date(e.lastLogged),a=new Date(e.lastLogout);if(isNaN(s.getTime())||isNaN(a.getTime())||a<s)return;let l=a.getTime()-s.getTime(),r=(0,L.GP)(s,"yyyy-MM-dd");t[r]||(t[r]={totalSessions:0,totalDuration:0,count:0}),t[r].totalSessions+=1,t[r].totalDuration+=l/6e4,t[r].count+=1}),eo(Object.entries(t).map(e=>{let[t,s]=e;return{date:t,totalSessions:s.totalSessions,averageSessionDuration:s.count>0?Number((s.totalDuration/s.count).toFixed(2)):0}}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))},eF=()=>{let e=new Map;H.forEach(t=>{let s=new Date(t.timestamp);t.items.forEach(t=>{(!e.has(t.productId)||s<e.get(t.productId))&&e.set(t.productId,s)})});let t={};e.forEach((e,s)=>{if((null==ew?void 0:ew.from)&&(null==ew?void 0:ew.to)&&e>=ew.from&&e<=ew.to){let a=(0,L.GP)(e,"yyyy-MM-dd");t[a]||(t[a]={productsAdded:new Set,totalValueAdded:0}),t[a].productsAdded.add(s),H.filter(e=>(0,L.GP)(new Date(e.timestamp),"yyyy-MM-dd")===a&&e.items.some(e=>e.productId===s)).forEach(e=>{e.items.filter(e=>e.productId===s).forEach(e=>{t[a].totalValueAdded+=e.total})})}}),ec(Object.entries(t).map(e=>{let[t,s]=e;return{date:t,productsAdded:s.productsAdded.size,totalValueAdded:Number(s.totalValueAdded.toFixed(2))}}).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))},eD=()=>{let e=eR(H),t={};X.forEach(s=>{let a=e_(s.id),l=e.filter(e=>e_(e.storeId)===a),r=l.reduce((e,t)=>e+t.total,0),d=l.length,n=l.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.quantity,0),0),o={};l.forEach(e=>{e.items.forEach(e=>{o[e.productId]||(o[e.productId]={quantity:0,revenue:0,name:e.productName}),o[e.productId].quantity+=e.quantity,o[e.productId].revenue+=e.total})});let i=[...Object.entries(o).map(e=>{let[t,s]=e;return{productId:t,productName:s.name,quantity:s.quantity,revenue:s.revenue}}).sort((e,t)=>t.revenue-e.revenue)].slice(0,5),c={};l.forEach(e=>{let t=(0,L.GP)(new Date(e.timestamp),"MMM yyyy");c[t]||(c[t]={revenue:0,bills:0}),c[t].revenue+=e.total,c[t].bills+=1});let u=Object.entries(c).map(e=>{let[t,s]=e;return{month:t,...s}}).sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime()),m=new Date((null==ew?void 0:ew.from)||new Date);m.setMonth(m.getMonth()-1);let h=new Date((null==ew?void 0:ew.to)||new Date);h.setMonth(h.getMonth()-1);let x=H.filter(e=>{let t=new Date(e.timestamp);return e.storeId===s.id&&t>=m&&t<=h}),f=x.reduce((e,t)=>e+t.total,0),p=x.length>0?(d-x.length)/x.length*100:0;t[s.id]={storeId:s.id,storeName:s.name,totalRevenue:r,totalBills:d,totalItems:n,averageBillValue:d>0?r/d:0,topProducts:i,monthlyTrend:u,revenueGrowth:f>0?(r-f)/f*100:0,billsGrowth:p}}),el(Object.values(t));let s={};$.forEach(t=>{let a=e.filter(e=>e.items.some(e=>e.productId===t.id)),l=0,r=0,d=a.length,n=0,o=0,i={};a.forEach(e=>{e.items.filter(e=>e.productId===t.id).forEach(t=>{l+=t.quantity,r+=t.total,n+=t.price,o+=1,i[e.storeId]||(i[e.storeId]={quantity:0,revenue:0,name:e.storeName||"Unknown Store"}),i[e.storeId].quantity+=t.quantity,i[e.storeId].revenue+=t.total})});let c=o>0?n/o:t.price,u=Object.entries(i).map(e=>{let[t,s]=e;return{storeId:t,storeName:s.name,quantity:s.quantity,revenue:s.revenue}}).sort((e,t)=>t.revenue-e.revenue).slice(0,5),m={};a.forEach(e=>{let s=(0,L.GP)(new Date(e.timestamp),"MMM yyyy"),a=e.items.filter(e=>e.productId===t.id);m[s]||(m[s]={quantity:0,revenue:0}),a.forEach(e=>{m[s].quantity+=e.quantity,m[s].revenue+=e.total})});let h=Object.entries(m).map(e=>{let[t,s]=e;return{month:t,...s}}).sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime()),x=l,f=r,p=new Date((null==ew?void 0:ew.from)||new Date);p.setMonth(p.getMonth()-1);let j=new Date((null==ew?void 0:ew.to)||new Date);j.setMonth(j.getMonth()-1);let y=H.filter(e=>{let s=new Date(e.timestamp);return s>=p&&s<=j&&e.items.some(e=>e.productId===t.id)}),g=0,v=0;y.forEach(e=>{e.items.filter(e=>e.productId===t.id).forEach(e=>{g+=e.quantity,v+=e.total})});let N=g>0?(x-g)/g*100:0,b=v>0?(f-v)/v*100:0;s[t.id]={productId:t.id,productName:t.name,totalQuantitySold:l,totalRevenue:r,averagePrice:c,totalBills:d,topStores:u,monthlyTrend:h,quantityGrowth:N,revenueGrowth:b}}),ed(Object.values(s).filter(e=>e.totalQuantitySold>0))},eP=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ey(!0);try{var t,a,l,r;let d=await Promise.all([s.e(524),s.e(436)]).then(s.bind(s,4246)),n=null!=(a=d.default)?a:d;if(!ea.length&&!er.length)throw Error("No analytics data available to export");let o=Number(ea.reduce((e,t)=>e+t.totalRevenue,0).toFixed(2)),i=ea.reduce((e,t)=>e+t.totalBills,0),c=ea.reduce((e,t)=>e+t.totalItems,0),u=i>0?Number((o/i).toFixed(2)):0,m={summary:!0,storeAnalytics:!0,productAnalytics:!0,topProducts:!0,monthlyTrends:!0,billDetails:!0},h=e.sheets?Object.fromEntries(Object.entries(m).filter(t=>{let[s]=t;return e.sheets.includes(s)})):m,x=(e,t)=>{for(let s=t.s.c;s<=t.e.c;++s){let a=n.utils.encode_cell({r:t.s.r,c:s});e[a]&&(e[a].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"4B0082"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thin",color:{rgb:"000000"}},bottom:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}})}},f=(e,t)=>{let s=t.reduce((e,t)=>(Object.keys(t).forEach((s,a)=>{let l=t[s]?t[s].toString():"";e[a]=Math.max(e[a]||10,l.length+2)}),e),[]);e["!cols"]=s.map(e=>({wch:Math.min(e,40)}))},p=(e,t,s,a)=>{for(let l=t.s.r+1;l<=t.e.r;++l){for(let t of s){let s=n.utils.encode_cell({r:l,c:t-1});e[s]&&(e[s].z='"₹"#,##0.00')}for(let t of a){let s=n.utils.encode_cell({r:l,c:t-1});e[s]&&(e[s].z="0.00%")}}},j=(e,t,s)=>{let a=[];s.forEach(e=>{a.push({type:"color_scale",criteria:"color_scale",min_type:"num",mid_type:"num",max_type:"num",min_value:-100,mid_value:0,max_value:100,min_color:{rgb:"FF6347"},mid_color:{rgb:"FFFFFF"},max_color:{rgb:"32CD32"},range:"".concat(n.utils.encode_col(e-1)).concat(t.s.r+2,":").concat(n.utils.encode_col(e-1)).concat(t.e.r+1)})}),e["!conditionalFormatting"]=a},y=n.utils.book_new();if(h.summary){let e=[{Key:"Analytics Report",Value:"Store and Product Performance"},{Key:"",Value:""},{Key:"Report Generated",Value:(0,L.GP)(new Date,"yyyy-MM-dd HH:mm:ss")},{Key:"Date Range",Value:(null==ew?void 0:ew.from)&&(null==ew?void 0:ew.to)?"".concat((0,L.GP)(ew.from,"yyyy-MM-dd")," to ").concat((0,L.GP)(ew.to,"yyyy-MM-dd")):"Current Month"},{Key:"Selected Store",Value:"all"===eg?"All Stores":(null==(l=X.find(e=>e.id===eg))?void 0:l.name)||"All Stores"},{Key:"Selected Product",Value:"all"===eN?"All Products":(null==(r=$.find(e=>e.id===eN))?void 0:r.name)||"All Products"},{Key:"Total Stores",Value:ea.length},{Key:"Total Products",Value:er.length},{Key:"Total Revenue",Value:o},{Key:"Total Bills",Value:i},{Key:"Total Items Sold",Value:c},{Key:"Average Bill Value",Value:u},{Key:"",Value:""},{Key:"Data Source",Value:"Generated from store billing system"}],t=n.utils.json_to_sheet(e);t["!rows"]=[{hpt:30},...Array(e.length-1).fill({hpt:20})],f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:B1")),p(t,n.utils.decode_range(t["!ref"]||"A1:B1"),[5,8],[]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Summary")}if(h.storeAnalytics){let e=ea.map(e=>({"Store Name":e.storeName,"Total Revenue":Number(e.totalRevenue.toFixed(2)),"Total Bills":e.totalBills,"Total Items Sold":e.totalItems,"Average Bill Value":Number(e.averageBillValue.toFixed(2)),"Revenue Growth %":e.revenueGrowth/100,"Bills Growth %":e.billsGrowth/100,Status:0===e.totalBills?"No Activity":"Active"})),t=n.utils.json_to_sheet(e);f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:H1")),p(t,n.utils.decode_range(t["!ref"]||"A1:H1"),[2,5],[6,7]),j(t,n.utils.decode_range(t["!ref"]||"A1:H1"),[6,7]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Store Analytics")}if(h.productAnalytics){let e=er.map(e=>{var t;return{"Product Name":e.productName,"Total Quantity Sold":e.totalQuantitySold,"Total Revenue":Number(e.totalRevenue.toFixed(2)),"Average Price":Number(e.averagePrice.toFixed(2)),"Total Bills":e.totalBills,"Quantity Growth %":e.quantityGrowth/100,"Revenue Growth %":e.revenueGrowth/100,"Top Store":(null==(t=e.topStores[0])?void 0:t.storeName)||"N/A"}}),t=n.utils.json_to_sheet(e);f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:H1")),p(t,n.utils.decode_range(t["!ref"]||"A1:H1"),[3,4],[6,7]),j(t,n.utils.decode_range(t["!ref"]||"A1:H1"),[6,7]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Product Analytics")}if(h.topProducts){let e=[];ea.forEach(t=>{t.topProducts.forEach((s,a)=>{e.push({"Store Name":t.storeName,Rank:a+1,"Product Name":s.productName,"Quantity Sold":s.quantity,Revenue:Number(s.revenue.toFixed(2))})})});let t=n.utils.json_to_sheet(e);f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:E1")),p(t,n.utils.decode_range(t["!ref"]||"A1:E1"),[5],[]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Top Products by Store")}if(h.monthlyTrends){let e=[];ea.forEach(t=>{t.monthlyTrend.forEach(s=>{e.push({"Store Name":t.storeName,Month:s.month,Revenue:Number(s.revenue.toFixed(2)),Bills:s.bills})})});let t=n.utils.json_to_sheet(e);f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:D1")),p(t,n.utils.decode_range(t["!ref"]||"A1:D1"),[3],[]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Monthly Trends")}if(h.billDetails){let e=eR(H).map(e=>({"Bill ID":e.id,"Store Name":e.storeName,"Customer Name":e.customerName||"N/A",Date:(0,L.GP)(new Date(e.timestamp),"yyyy-MM-dd HH:mm:ss"),Items:e.items.map(e=>"".concat(e.productName," (Qty: ").concat(e.quantity,")")).join(", "),Subtotal:Number((e.subtotal||0).toFixed(2)),Tax:Number((e.taxAmount||0).toFixed(2)),Discount:Number((e.discountAmount||0).toFixed(2)),Total:Number((e.total||0).toFixed(2)),"Created By":e.createdBy})),t=n.utils.json_to_sheet(e);f(t,e),x(t,n.utils.decode_range(t["!ref"]||"A1:J1")),p(t,n.utils.decode_range(t["!ref"]||"A1:J1"),[6,7,8,9],[]),t["!freeze"]={xSplit:0,ySplit:1},n.utils.book_append_sheet(y,t,"Bill Details")}let g=(null==ew?void 0:ew.from)&&(null==ew?void 0:ew.to)?"".concat((0,L.GP)(ew.from,"yyyy-MM-dd"),"_to_").concat((0,L.GP)(ew.to,"yyyy-MM-dd")):(0,L.GP)(new Date,"yyyy-MM-dd"),v="all"===eg?"":"-".concat((null==(t=X.find(e=>e.id===eg))?void 0:t.name.replace(/\s+/g,"-"))||"store"),N="Analytics-Report".concat(v,"-").concat(g,".xlsx"),b=n.write(y,{bookType:"xlsx",type:"array"}),w=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),S=URL.createObjectURL(w),A=document.createElement("a");A.href=S,A.download=N,document.body.appendChild(A),A.click(),A.remove(),URL.revokeObjectURL(S),alert("Analytics report exported successfully!")}catch(t){console.error("Error exporting analytics:",t);let e="Failed to export analytics. Please try again.";t.message.includes("No analytics data")?e="No data available to export. Please ensure data is loaded.":t.message.includes("SheetJS")&&(e="Failed to load export library. Please check your connection."),alert(e)}finally{ey(!1)}},eB="all"===eg?ea:ea.filter(e=>e.storeId===eg),eI="all"===eN?er:er.filter(e=>e.productId===eN),ek=ea.reduce((e,t)=>e+t.totalRevenue,0),eM=ea.reduce((e,t)=>e+t.totalBills,0),eE=ea.reduce((e,t)=>e+t.totalItems,0),eC=eM>0?ek/eM:0;return ef?(0,a.jsx)(d.default,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(T.A,{className:"h-8 w-8 animate-spin"})})}):(0,a.jsx)(d.default,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Comprehensive insights into store and product performance"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(i.$,{onClick:()=>eP(),variant:"outline",className:"bg-green-50 hover:bg-green-100",disabled:ej,children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),ej?"Exporting...":"Export Report"]}),(0,a.jsxs)(i.$,{onClick:eA,variant:"outline",disabled:ej,children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center",children:[(0,a.jsx)(D.A,{className:"h-5 w-5 mr-2"}),"Filters & Date Range"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Date Range"}),(0,a.jsx)(G.S,{date:ew,setDate:eS})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Quick Ranges"}),(0,a.jsxs)(u.l6,{onValueChange:e=>{let t,s=new Date,a=s;switch(e){case"today":t=s;break;case"yesterday":t=(0,K.e)(s,1),a=(0,K.e)(s,1);break;case"last7days":t=(0,K.e)(s,7);break;case"last30days":t=(0,K.e)(s,30);break;case"thisMonth":t=(0,Z.w)(s),a=(0,V.p)(s);break;case"lastMonth":t=(0,Z.w)((0,K.e)(s,30)),a=(0,V.p)((0,K.e)(s,30));break;case"thisYear":t=(0,W.D)(s),a=(0,q.Q)(s);break;default:return}eS({from:t,to:a})},children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{placeholder:"Select range"})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"today",children:"Today"}),(0,a.jsx)(u.eb,{value:"yesterday",children:"Yesterday"}),(0,a.jsx)(u.eb,{value:"last7days",children:"Last 7 Days"}),(0,a.jsx)(u.eb,{value:"last30days",children:"Last 30 Days"}),(0,a.jsx)(u.eb,{value:"thisMonth",children:"This Month"}),(0,a.jsx)(u.eb,{value:"lastMonth",children:"Last Month"}),(0,a.jsx)(u.eb,{value:"thisYear",children:"This Year"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Filter by Store"}),(0,a.jsxs)(u.l6,{value:eg,onValueChange:ev,children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"all",children:"All Stores"}),X.map(e=>(0,a.jsx)(u.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Filter by Product"}),(0,a.jsxs)(u.l6,{value:eN,onValueChange:eb,children:[(0,a.jsx)(u.bq,{children:(0,a.jsx)(u.yv,{})}),(0,a.jsxs)(u.gC,{children:[(0,a.jsx)(u.eb,{value:"all",children:"All Products"}),$.map(e=>(0,a.jsx)(u.eb,{value:e.id,children:e.name},e.id))]})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Revenue"}),(0,a.jsx)(P.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["₹",ek.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Across ",ea.length," stores"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Bills"}),(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:eM}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bills generated"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Items Sold"}),(0,a.jsx)(I.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:eE}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total items sold"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Avg Bill Value"}),(0,a.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["₹",eC.toFixed(2)]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"label",children:"Active users (5m)"}),(0,a.jsx)("div",{className:"value",children:null!=(t=null==eu?void 0:eu.onlineCount)?t:0})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"label",children:"Sessions today"}),(0,a.jsx)("div",{className:"value",children:null!=(U=null==eh?void 0:eh.totalSessions)?U:0})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"label",children:"Avg session"}),(0,a.jsxs)("div",{className:"value",children:[eh?Math.round((eh.avgSessionSec||0)/60):0," min"]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{children:"Online now"}),(0,a.jsx)("ul",{children:null!=(z=null==eu?void 0:eu.online.map(e=>(0,a.jsxs)("li",{children:[e.userId," • last seen ",new Date(e.lastSeen).toLocaleTimeString()]},e.userId)))?z:(0,a.jsx)("li",{children:"None"})})]}),(0,a.jsxs)(h.tU,{defaultValue:"stores",className:"space-y-4",children:[(0,a.jsxs)(h.j7,{children:[(0,a.jsx)(h.Xi,{value:"stores",children:"Store Analytics"}),(0,a.jsx)(h.Xi,{value:"products",children:"Product Analytics"}),(0,a.jsx)(h.Xi,{value:"trends",children:"Trends & Insights"}),(0,a.jsx)(h.Xi,{value:"userSessions",children:"User Sessions"})," "]}),(0,a.jsxs)(h.av,{value:"stores",className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:eB.map(e=>(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(M.A,{className:"h-5 w-5 mr-2"}),e.storeName]}),(0,a.jsx)("div",{className:"flex space-x-2",children:e.revenueGrowth>0?(0,a.jsxs)(o.E,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(E.A,{className:"h-3 w-3 mr-1"}),"+",e.revenueGrowth.toFixed(1),"%"]}):(0,a.jsxs)(o.E,{variant:"secondary",children:[(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}),e.revenueGrowth.toFixed(1),"%"]})})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:["₹",e.totalRevenue.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Bills"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.totalBills})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Items Sold"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:e.totalItems})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Bill"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:["₹",e.averageBillValue.toFixed(2)]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"Top Products"}),(0,a.jsx)("div",{className:"space-y-1",children:e.topProducts.slice(0,3).map((t,s)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"truncate",children:[s+1,". ",t.productName]}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",t.revenue.toFixed(2)]})]},"".concat(e.storeId,"-").concat(t.productId)))})]}),e.monthlyTrend.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"Revenue Trend"}),(0,a.jsx)(x.u,{width:"100%",height:100,children:(0,a.jsxs)(f.Q,{data:e.monthlyTrend,children:[(0,a.jsx)(p.Gk,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),(0,a.jsx)(j.W,{dataKey:"month",hide:!0}),(0,a.jsx)(y.h,{hide:!0}),(0,a.jsx)(g.m,{formatter:e=>["₹".concat(Number(e).toFixed(2)),"Revenue"]})]})})]})]})})]},e.storeId))}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Store Revenue Comparison"}),(0,a.jsx)(n.BT,{children:"Revenue performance across all stores"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:400,children:(0,a.jsxs)(v.E,{data:eB,children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"storeName"}),(0,a.jsx)(y.h,{}),(0,a.jsx)(g.m,{formatter:e=>["₹".concat(Number(e).toFixed(2)),"Revenue"]}),(0,a.jsx)(b.y,{dataKey:"totalRevenue",fill:"#8884d8"})]})})})]})]}),(0,a.jsxs)(h.av,{value:"products",className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Product Performance"}),(0,a.jsx)(n.BT,{children:"Detailed analytics for each product"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(m.XI,{children:[(0,a.jsx)(m.A0,{children:(0,a.jsxs)(m.Hj,{className:"bg-gray-50",children:[(0,a.jsx)(m.nd,{children:"Product Name"}),(0,a.jsx)(m.nd,{children:"Qty Sold"}),(0,a.jsx)(m.nd,{children:"Revenue"}),(0,a.jsx)(m.nd,{children:"Avg Price"}),(0,a.jsx)(m.nd,{children:"Bills"}),(0,a.jsx)(m.nd,{children:"Growth"}),(0,a.jsx)(m.nd,{children:"Top Store"})]})}),(0,a.jsx)(m.BF,{children:eI.sort((e,t)=>t.totalRevenue-e.totalRevenue).map(e=>{var t;return(0,a.jsxs)(m.Hj,{children:[(0,a.jsx)(m.nA,{className:"font-medium",children:e.productName}),(0,a.jsx)(m.nA,{children:e.totalQuantitySold}),(0,a.jsxs)(m.nA,{className:"font-medium",children:["₹",e.totalRevenue.toFixed(2)]}),(0,a.jsxs)(m.nA,{children:["₹",e.averagePrice.toFixed(2)]}),(0,a.jsx)(m.nA,{children:e.totalBills}),(0,a.jsx)(m.nA,{children:e.revenueGrowth>0?(0,a.jsxs)(o.E,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(E.A,{className:"h-3 w-3 mr-1"}),"+",e.revenueGrowth.toFixed(1),"%"]}):(0,a.jsxs)(o.E,{variant:"secondary",children:[(0,a.jsx)(C.A,{className:"h-3 w-3 mr-1"}),e.revenueGrowth.toFixed(1),"%"]})}),(0,a.jsx)(m.nA,{children:(null==(t=e.topStores[0])?void 0:t.storeName)||"N/A"})]},e.productId)})})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Products Added & Value Over Time"}),(0,a.jsx)(n.BT,{children:"Number of unique products first sold and their total revenue per day"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:400,children:(0,a.jsxs)(w.b,{data:ei,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"date"}),(0,a.jsx)(y.h,{yAxisId:"left",label:{value:"Products Added",angle:-90,position:"insideLeft"}}),(0,a.jsx)(y.h,{yAxisId:"right",orientation:"right",label:{value:"Total Value (₹)",angle:90,position:"insideRight"}}),(0,a.jsx)(g.m,{formatter:(e,t)=>"productsAdded"===t?["".concat(e," products"),"Products Added"]:"totalValueAdded"===t?["₹".concat(Number(e).toFixed(2)),"Total Value Added"]:e}),(0,a.jsx)(S.N,{yAxisId:"left",type:"monotone",dataKey:"productsAdded",stroke:"#8884d8",activeDot:{r:8},name:"productsAdded"}),(0,a.jsx)(S.N,{yAxisId:"right",type:"monotone",dataKey:"totalValueAdded",stroke:"#82ca9d",activeDot:{r:8},name:"totalValueAdded"})]})})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Top Products by Revenue"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:300,children:(0,a.jsxs)(A.r,{children:[(0,a.jsx)(R.F,{data:eI.slice(0,8).map(e=>({name:e.productName,value:e.totalRevenue,...e})),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t||""," ").concat(s?(100*s).toFixed(0):0,"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:eI.slice(0,8).map((e,t)=>(0,a.jsx)(_.f,{fill:O[t%O.length]},e.productName))}),(0,a.jsx)(g.m,{formatter:e=>["₹".concat(Number(e).toFixed(2)),"Revenue"]})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Top Products by Quantity"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:300,children:(0,a.jsxs)(v.E,{data:eI.slice(0,10),children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"productName",angle:-45,textAnchor:"end",height:100}),(0,a.jsx)(y.h,{}),(0,a.jsx)(g.m,{}),(0,a.jsx)(b.y,{dataKey:"totalQuantitySold",fill:"#82ca9d"})]})})})]})]})]}),(0,a.jsxs)(h.av,{value:"trends",className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Revenue Trend Over Time"}),(0,a.jsx)(n.BT,{children:"Monthly revenue comparison across all stores"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:400,children:(0,a.jsxs)(w.b,{data:(null==(e=ea[0])?void 0:e.monthlyTrend)||[],children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"month"}),(0,a.jsx)(y.h,{}),(0,a.jsx)(g.m,{formatter:e=>["₹".concat(Number(e).toFixed(2)),"Revenue"]}),ea.map((e,t)=>(0,a.jsx)(S.N,{type:"monotone",dataKey:"revenue",stroke:O[t%O.length],strokeWidth:2,data:e.monthlyTrend},e.storeId))]})})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Top Performing Store"})}),(0,a.jsx)(n.Wu,{children:ea.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:[...ea].sort((e,t)=>t.totalRevenue-e.totalRevenue).slice(0,1).map(e=>{var t;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.storeName}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["₹",e.totalRevenue.toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Growth"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["+",e.revenueGrowth.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Best Selling Product"}),(0,a.jsx)("p",{className:"font-medium",children:(null==(t=e.topProducts[0])?void 0:t.productName)||"N/A"})]})]},e.storeId)})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Best Selling Product"})}),(0,a.jsx)(n.Wu,{children:er.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:er.sort((e,t)=>t.totalQuantitySold-e.totalQuantitySold).slice(0,1).map(e=>{var t;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.productName}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Quantity Sold"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-600",children:e.totalQuantitySold})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["₹",e.totalRevenue.toFixed(2)]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Top Store"}),(0,a.jsx)("p",{className:"font-medium",children:(null==(t=e.topStores[0])?void 0:t.storeName)||"N/A"})]})]},e.productId)})})})]})]})]}),(0,a.jsxs)(h.av,{value:"userSessions",className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"User Session Duration Trend"}),(0,a.jsx)(n.BT,{children:"Average session duration over time"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:400,children:(0,a.jsxs)(w.b,{data:en,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"date"}),(0,a.jsx)(y.h,{label:{value:"Avg Duration (minutes)",angle:-90,position:"insideLeft"}}),(0,a.jsx)(g.m,{formatter:e=>["".concat(Number(e).toFixed(2)," minutes"),"Average Session Duration"]}),(0,a.jsx)(S.N,{type:"monotone",dataKey:"averageSessionDuration",stroke:"#8884d8",activeDot:{r:8}})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Total User Sessions Over Time"}),(0,a.jsx)(n.BT,{children:"Number of user sessions per day"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(x.u,{width:"100%",height:400,children:(0,a.jsxs)(v.E,{data:en,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(N.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"date"}),(0,a.jsx)(y.h,{label:{value:"Total Sessions",angle:-90,position:"insideLeft"}}),(0,a.jsx)(g.m,{formatter:e=>["".concat(e," sessions"),"Total Sessions"]}),(0,a.jsx)(b.y,{dataKey:"totalSessions",fill:"#82ca9d"})]})})})]})]})]})]})})}},68020:(e,t,s)=>{Promise.resolve().then(s.bind(s,63290))},81577:(e,t,s)=>{"use strict";s.d(t,{S:()=>j});var a=s(95155),l=s(71163),r=s(16485),d=s(25016),n=s(97003),o=s(12115),i=s(90368),c=s(27937),u=s(31531);function m(e){let{className:t,classNames:s,showOutsideDays:l=!0,...r}=e;return(0,a.jsx)(u.h,{showOutsideDays:l,className:(0,d.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,n.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,n.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>(0,a.jsx)(i.A,{className:"h-4 w-4",...e}),IconRight:e=>(0,a.jsx)(c.A,{className:"h-4 w-4",...e})},...r})}m.displayName="Calendar";var h=s(82286);let x=h.bL,f=h.l9,p=o.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:r=4,...n}=e;return(0,a.jsx)(h.ZL,{children:(0,a.jsx)(h.UC,{ref:t,align:l,sideOffset:r,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});function j(e){let{className:t,date:s,setDate:o}=e;return(0,a.jsx)("div",{className:(0,d.cn)("grid gap-2",t),children:(0,a.jsxs)(x,{children:[(0,a.jsx)(f,{asChild:!0,children:(0,a.jsxs)(n.$,{id:"date",variant:"outline",className:(0,d.cn)("w-[300px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[(0,a.jsx)(r.A,{className:"mr-2 h-4 w-4"}),(null==s?void 0:s.from)?s.to?(0,a.jsxs)(a.Fragment,{children:[(0,l.GP)(s.from,"LLL dd, y")," - ",(0,l.GP)(s.to,"LLL dd, y")]}):(0,l.GP)(s.from,"LLL dd, y"):(0,a.jsx)("span",{children:"Pick a date range"})]})}),(0,a.jsx)(p,{className:"w-auto p-0",align:"start",children:(0,a.jsx)(m,{initialFocus:!0,mode:"range",defaultMonth:null==s?void 0:s.from,selected:s,onSelect:o,numberOfMonths:2})})]})})}p.displayName=h.UC.displayName},83209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>o,Zp:()=>d,aR:()=>n});var a=s(95155),l=s(12115),r=s(25016);let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});d.displayName="Card";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});n.displayName="CardHeader";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});o.displayName="CardTitle";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});i.displayName="CardDescription";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});c.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},90235:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var a=s(95155),l=s(12115),r=s(10489),d=s(83101),n=s(25016);let o=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.b,{ref:t,className:(0,n.cn)(o(),s),...l})});i.displayName=r.b.displayName},90923:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>i,av:()=>c,j7:()=>o,tU:()=>n});var a=s(95155),l=s(12115),r=s(25667),d=s(25016);let n=r.bL,o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.B8,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...l})});o.displayName=r.B8.displayName;let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.l9,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...l})});i.displayName=r.l9.displayName;let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.UC,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...l})});c.displayName=r.UC.displayName},96633:(e,t,s)=>{"use strict";s.d(t,{A0:()=>n,BF:()=>o,Gg:()=>i,Hj:()=>c,XI:()=>d,nA:()=>m,nd:()=>u});var a=s(95155),l=s(12115),r=s(25016);let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",s),...l})})});d.displayName="Table";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",s),...l})});n.displayName="TableHeader";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",s),...l})});o.displayName="TableBody";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})});i.displayName="TableFooter";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});c.displayName="TableRow";let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...l})});u.displayName="TableHead";let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...l})});m.displayName="TableCell",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption"}},e=>{e.O(0,[666,530,150,143,168,667,832,441,255,358],()=>e(e.s=68020)),_N_E=e.O()}]);