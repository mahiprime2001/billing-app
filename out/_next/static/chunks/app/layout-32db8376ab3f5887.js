(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2795:(e,t,r)=>{Promise.resolve().then(r.bind(r,45185)),Promise.resolve().then(r.bind(r,62217)),Promise.resolve().then(r.bind(r,50085)),Promise.resolve().then(r.bind(r,3976)),Promise.resolve().then(r.t.bind(r,95003,23)),Promise.resolve().then(r.t.bind(r,41290,23))},3976:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(12115),a=r(68267);class i extends a.FW{constructor(e){super(e.rid),this.available=!0,this.currentVersion=e.currentVersion,this.version=e.version,this.date=e.date,this.body=e.body,this.rawJson=e.rawJson}async download(e,t){o(t);let r=new a.c3;e&&(r.onmessage=e);let n=await (0,a.lA)("plugin:updater|download",{onEvent:r,rid:this.rid,...t});this.downloadedBytes=new a.FW(n)}async install(){if(!this.downloadedBytes)throw Error("Update.install called before Update.download");await (0,a.lA)("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(e,t){o(t);let r=new a.c3;e&&(r.onmessage=e),await (0,a.lA)("plugin:updater|download_and_install",{onEvent:r,rid:this.rid,...t})}async close(){await this.downloadedBytes?.close(),await super.close()}}async function s(e){o(e);let t=await (0,a.lA)("plugin:updater|check",{...e});return t?new i(t):null}function o(e){e?.headers&&(e.headers=Array.from(new Headers(e.headers).entries()))}var l=r(13380);async function d(e,t){let r="string"==typeof t?{title:t}:t;return(0,a.lA)("plugin:dialog|message",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString(),buttons:function(e){if(void 0!==e){if("string"==typeof e)return e;else if("ok"in e&&"cancel"in e)return{OkCancelCustom:[e.ok,e.cancel]};else if("yes"in e&&"no"in e&&"cancel"in e)return{YesNoCancelCustom:[e.yes,e.no,e.cancel]};else if("ok"in e)return{OkCustom:e.ok}}}(r?.buttons)})}async function u(e,t){let r="string"==typeof t?{title:t}:t;return await (0,a.lA)("plugin:dialog|ask",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,yesButtonLabel:r?.okLabel?.toString(),noButtonLabel:r?.cancelLabel?.toString()})}function c(){let e=(0,n.useRef)(null),t=(0,n.useRef)(!1),r=(0,n.useRef)(!1),a=null;async function i(){try{let r=await s();if(!r||!r.available)return void console.log("No updates available.");e.current=r,t.current=!0,o()}catch(e){console.error("Failed to check for updates:",e)}}async function o(){if(t.current&&e.current)try{if(await u("A new version is available. Install now? (App will restart after update.)",{title:"Update available!",kind:"info"})&&!r.current)try{r.current=!0,await e.current.downloadAndInstall()}catch(e){console.error("Update installation failed:",e),d("Update download failed. Please retry.",{kind:"error"}),r.current=!1}}catch(e){console.error("Prompt failed:",e)}}return(0,n.useEffect)(()=>((0,l.listen)("updater-status",e=>{let n=e.payload;switch(n.event){case"DownloadProgress":var a;console.log("Download progress: ".concat(null==(a=n.progress)?void 0:a.percent,"%"));break;case"Updated":window.location.reload();break;case"Error":console.error("Updater error:",n.error),d("Update failed. Please try again later.",{kind:"error"}),r.current=!1;break;case"Updaterexists":t.current=!0,o();break;case"DownloadCancel":r.current=!1}}).then(e=>{a=e}).catch(e=>{console.error("Failed to listen for updater events:",e)}),i(),()=>{a&&a()}),[]),null}},13380:(e,t,r)=>{"use strict";r.d(t,{listen:()=>s});var n,a=r(68267);async function i(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await (0,a.lA)("plugin:event|unlisten",{event:e,eventId:t})}async function s(e,t,r){var n;let s="string"==typeof(null==r?void 0:r.target)?{kind:"AnyLabel",label:r.target}:null!=(n=null==r?void 0:r.target)?n:{kind:"Any"};return(0,a.lA)("plugin:event|listen",{event:e,target:s,handler:(0,a.yw)(t)}).then(t=>async()=>i(e,t))}!function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"}(n||(n={}))},20063:(e,t,r)=>{"use strict";var n=r(47260);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},41290:()=>{},45185:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(12115),a=r(20063);let i=e=>{let t,{timeoutInMinutes:r=120}=e;(0,a.useRouter)();let i=(0,n.useCallback)(()=>{window.location.href="/"},[]),s=(0,n.useCallback)(()=>{clearTimeout(t),t=setTimeout(i,60*r*1e3)},[i,r]);return(0,n.useEffect)(()=>{let e=["mousemove","keydown","click","scroll"],r=()=>s();return e.forEach(e=>window.addEventListener(e,r)),s(),()=>{clearTimeout(t),e.forEach(e=>window.removeEventListener(e,r))}},[s]),null}},50085:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(95155),a=r(12115);function i(e){let{children:t}=e,[i,s]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e;return(async()=>{if(window.__TAURI__){let{listen:t}=await Promise.resolve().then(r.bind(r,13380)),n=t("server-error",e=>{s(e.payload)});e=await n}})(),()=>{null==e||e()}},[]),i)?(0,n.jsxs)("div",{style:{color:"red",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:["Error: ",i]}):(0,n.jsx)(n.Fragment,{children:t})}},62217:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(95155),a=r(12115);function i(){let[e,t]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",r),void 0!==navigator.onLine&&t(navigator.onLine),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),e)?null:(0,n.jsx)("div",{className:"bg-yellow-500 text-white text-center p-2",children:"You are currently offline. Some features may not be available."})}},68267:(e,t,r)=>{"use strict";var n,a,i,s,o;function l(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function d(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}r.d(t,{c3:()=>f,FW:()=>w,lA:()=>h,yw:()=>c}),"function"==typeof SuppressedError&&SuppressedError;let u="__TAURI_TO_IPC_KEY__";function c(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}class f{constructor(e){n.set(this,void 0),a.set(this,0),i.set(this,[]),s.set(this,void 0),d(this,n,e||(()=>{}),"f"),this.id=c(e=>{let t=e.index;if("end"in e)return void(t==l(this,a,"f")?this.cleanupCallback():d(this,s,t,"f"));let r=e.message;if(t==l(this,a,"f")){for(l(this,n,"f").call(this,r),d(this,a,l(this,a,"f")+1,"f");l(this,a,"f")in l(this,i,"f");){let e=l(this,i,"f")[l(this,a,"f")];l(this,n,"f").call(this,e),delete l(this,i,"f")[l(this,a,"f")],d(this,a,l(this,a,"f")+1,"f")}l(this,a,"f")===l(this,s,"f")&&this.cleanupCallback()}else l(this,i,"f")[t]=r})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){d(this,n,e,"f")}get onmessage(){return l(this,n,"f")}[(n=new WeakMap,a=new WeakMap,i=new WeakMap,s=new WeakMap,u)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[u]()}}async function h(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}class w{get rid(){return l(this,o,"f")}constructor(e){o.set(this,void 0),d(this,o,e,"f")}async close(){return h("plugin:resources|close",{rid:this.rid})}}o=new WeakMap},95003:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}}},e=>{e.O(0,[761,441,255,358],()=>e(e.s=2795)),_N_E=e.O()}]);