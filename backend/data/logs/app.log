2025-11-20 19:52:21,025 - app - INFO - app.py:182 - APP_BASE_DIR: D:\Siri-apps\billing-app\backend
2025-11-20 19:52:21,025 - app - INFO - app.py:183 - JSON_DIR: D:\Siri-apps\billing-app\backend\data\json
2025-11-20 19:52:21,027 - app - INFO - app.py:184 - LOGS_DIR: D:\Siri-apps\billing-app\backend\data\logs
2025-11-20 19:52:21,048 - app - INFO - app.py:3567 - JSON data files not found or empty. Attempting to export from database.
2025-11-20 19:52:23,465 - app - INFO - app.py:3570 - Database data successfully exported to JSON files.
2025-11-20 19:52:23,467 - app - INFO - app.py:336 - Data file missing/empty: D:\Siri-apps\billing-app\backend\data\json\customers.json. Will perform full pull.
2025-11-20 19:52:23,467 - app - INFO - app.py:3580 - First run detected. Pulling all data from MySQL...
2025-11-20 19:52:23,467 - app - INFO - app.py:220 - Starting initial full data pull from MySQL...
2025-11-20 19:52:23,580 - app - DEBUG - app.py:242 - Pulling all records from Products...
2025-11-20 19:52:23,733 - app - INFO - app.py:300 - Pulled 3 records from Products → D:\Siri-apps\billing-app\backend\data\json\products.json
2025-11-20 19:52:23,733 - app - DEBUG - app.py:242 - Pulling all records from Users...
2025-11-20 19:52:23,775 - app - INFO - app.py:300 - Pulled 5 records from Users → D:\Siri-apps\billing-app\backend\data\json\users.json
2025-11-20 19:52:23,775 - app - DEBUG - app.py:242 - Pulling all records from Bills...
2025-11-20 19:52:23,820 - app - INFO - app.py:300 - Pulled 9 records from Bills → D:\Siri-apps\billing-app\backend\data\json\bills.json
2025-11-20 19:52:23,820 - app - DEBUG - app.py:242 - Pulling all records from Customers...
2025-11-20 19:52:23,857 - app - INFO - app.py:300 - Pulled 1 records from Customers → D:\Siri-apps\billing-app\backend\data\json\customers.json
2025-11-20 19:52:23,857 - app - DEBUG - app.py:242 - Pulling all records from Stores...
2025-11-20 19:52:23,893 - app - INFO - app.py:300 - Pulled 5 records from Stores → D:\Siri-apps\billing-app\backend\data\json\stores.json
2025-11-20 19:52:23,897 - app - DEBUG - app.py:242 - Pulling all records from batch...
2025-11-20 19:52:23,937 - app - INFO - app.py:300 - Pulled 2 records from batch → D:\Siri-apps\billing-app\backend\data\json\batches.json
2025-11-20 19:52:23,942 - app - DEBUG - app.py:242 - Pulling all records from Notifications...
2025-11-20 19:52:23,985 - app - INFO - app.py:300 - Pulled 13 records from Notifications → D:\Siri-apps\billing-app\backend\data\json\notifications.json
2025-11-20 19:52:23,986 - app - DEBUG - app.py:242 - Pulling all records from Returns...
2025-11-20 19:52:24,024 - app - INFO - app.py:300 - Pulled 1 records from Returns → D:\Siri-apps\billing-app\backend\data\json\returns.json
2025-11-20 19:52:24,024 - app - DEBUG - app.py:242 - Pulling all records from SystemSettings...
2025-11-20 19:52:24,064 - app - INFO - app.py:300 - Pulled 1 records from SystemSettings → D:\Siri-apps\billing-app\backend\data\json\settings.json
2025-11-20 19:52:24,064 - app - DEBUG - app.py:242 - Pulling all records from StoreInventory...
2025-11-20 19:52:24,104 - app - INFO - app.py:300 - Pulled 3 records from StoreInventory → D:\Siri-apps\billing-app\backend\data\json\storeinventory.json
2025-11-20 19:52:24,105 - app - INFO - app.py:315 - Full data pull completed successfully
2025-11-20 19:52:24,297 - app - INFO - app.py:3534 - Enhanced background sync process started successfully
2025-11-20 19:52:24,899 - app - INFO - app.py:182 - APP_BASE_DIR: D:\Siri-apps\billing-app\backend
2025-11-20 19:52:24,899 - app - INFO - app.py:183 - JSON_DIR: D:\Siri-apps\billing-app\backend\data\json
2025-11-20 19:52:24,899 - app - INFO - app.py:184 - LOGS_DIR: D:\Siri-apps\billing-app\backend\data\logs
2025-11-20 19:52:24,936 - app - DEBUG - app.py:3583 - Data files already populated, skipping full pull.
2025-11-20 19:52:24,940 - app - INFO - app.py:3534 - Enhanced background sync process started successfully
2025-11-20 19:52:28,033 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:33,045 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:38,037 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:43,051 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:53,824 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/notifications, Origin=http://localhost:3000
2025-11-20 19:52:53,855 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:56,646 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store3/inventory-calendar, Origin=http://localhost:3000
2025-11-20 19:52:56,647 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store3/inventory-by-date/2025-11-20, Origin=http://localhost:3000
2025-11-20 19:52:56,647 - app - INFO - app.py:1402 - Fetching inventory for store store3 on 2025-11-20
2025-11-20 19:52:57,062 - app - INFO - app.py:1289 - Found 1 products for store store3
2025-11-20 19:52:57,063 - app - INFO - app.py:1303 - Product A. Haram set assigned on 2025-11-20
2025-11-20 19:52:57,102 - app - DEBUG - app.py:1344 - Added stock for A. Haram set on 2025-11-20
2025-11-20 19:52:57,102 - app - INFO - app.py:1381 - Date 2025-11-20: 1 products, stock 1
2025-11-20 19:52:57,102 - app - INFO - app.py:1383 - Returning 1 calendar days
2025-11-20 19:52:57,437 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:52:57,504 - app - INFO - app.py:1488 - Returning 1 rows, stock: 1, value: 657.0
2025-11-20 19:53:02,253 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:03,933 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/STR-1758042415183/inventory-calendar, Origin=http://localhost:3000
2025-11-20 19:53:03,943 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/STR-1758042415183/inventory-by-date/2025-11-20, Origin=http://localhost:3000
2025-11-20 19:53:03,943 - app - INFO - app.py:1402 - Fetching inventory for store STR-1758042415183 on 2025-11-20
2025-11-20 19:53:04,352 - app - INFO - app.py:1289 - Found 1 products for store STR-1758042415183
2025-11-20 19:53:04,368 - app - INFO - app.py:1303 - Product A. Haram set assigned on 2025-11-20
2025-11-20 19:53:04,405 - app - DEBUG - app.py:1344 - Added stock for A. Haram set on 2025-11-20
2025-11-20 19:53:04,408 - app - INFO - app.py:1381 - Date 2025-11-20: 1 products, stock 6
2025-11-20 19:53:04,408 - app - INFO - app.py:1383 - Returning 1 calendar days
2025-11-20 19:53:04,833 - app - INFO - app.py:1488 - Returning 1 rows, stock: 6, value: 3942.0
2025-11-20 19:53:07,256 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:09,339 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/STR-1761569064837/inventory-calendar, Origin=http://localhost:3000
2025-11-20 19:53:09,339 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/STR-1761569064837/inventory-by-date/2025-11-20, Origin=http://localhost:3000
2025-11-20 19:53:09,340 - app - INFO - app.py:1402 - Fetching inventory for store STR-1761569064837 on 2025-11-20
2025-11-20 19:53:09,855 - app - INFO - app.py:1289 - Found 1 products for store STR-1761569064837
2025-11-20 19:53:09,855 - app - INFO - app.py:1303 - Product A.NECKLACE assigned on 2025-11-20
2025-11-20 19:53:09,887 - app - DEBUG - app.py:1344 - Added stock for A.NECKLACE on 2025-11-20
2025-11-20 19:53:09,887 - app - INFO - app.py:1381 - Date 2025-11-20: 1 products, stock 4
2025-11-20 19:53:09,887 - app - INFO - app.py:1383 - Returning 1 calendar days
2025-11-20 19:53:10,196 - app - ERROR - app.py:1495 - Error in get_store_inventory_by_date: float() argument must be a string or a real number, not 'NoneType'
Traceback (most recent call last):
  File "D:\Siri-apps\billing-app\backend\app.py", line 1468, in get_store_inventory_by_date
    row_price = float(product_info['price'])
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'
2025-11-20 19:53:12,255 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:16,331 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store_1/inventory-calendar, Origin=http://localhost:3000
2025-11-20 19:53:16,410 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store_1/inventory-by-date/2025-11-20, Origin=http://localhost:3000
2025-11-20 19:53:16,434 - app - INFO - app.py:1402 - Fetching inventory for store store_1 on 2025-11-20
2025-11-20 19:53:16,523 - app - INFO - app.py:1289 - Found 0 products for store store_1
2025-11-20 19:53:16,634 - app - INFO - app.py:1430 - Returning 0 rows, stock: 0, value: 0.00 for store store_1 on 2025-11-20
2025-11-20 19:53:17,258 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:19,819 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store3/inventory-calendar, Origin=http://localhost:3000
2025-11-20 19:53:19,857 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/stores/store3/inventory-by-date/2025-11-20, Origin=http://localhost:3000
2025-11-20 19:53:19,892 - app - INFO - app.py:1402 - Fetching inventory for store store3 on 2025-11-20
2025-11-20 19:53:20,034 - app - INFO - app.py:1289 - Found 1 products for store store3
2025-11-20 19:53:20,034 - app - INFO - app.py:1303 - Product A. Haram set assigned on 2025-11-20
2025-11-20 19:53:20,071 - app - DEBUG - app.py:1344 - Added stock for A. Haram set on 2025-11-20
2025-11-20 19:53:20,071 - app - INFO - app.py:1381 - Date 2025-11-20: 1 products, stock 1
2025-11-20 19:53:20,071 - app - INFO - app.py:1383 - Returning 1 calendar days
2025-11-20 19:53:20,156 - app - INFO - app.py:1488 - Returning 1 rows, stock: 1, value: 657.0
2025-11-20 19:53:21,856 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/notifications, Origin=http://localhost:3000
2025-11-20 19:53:22,255 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:27,259 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:33,040 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:38,041 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:43,034 - app - INFO - app.py:101 - Incoming Request: Method=GET, Path=/api/sync/status, Origin=http://localhost:3000
2025-11-20 19:53:48,802 - app - INFO - app.py:3647 - Enhanced sync manager stopped gracefully
2025-11-20 19:53:53,911 - app - INFO - app.py:3647 - Enhanced sync manager stopped gracefully
