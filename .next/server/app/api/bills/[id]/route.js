(()=>{var e={};e.id=274,e.ids=[274],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},28303:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=28303,e.exports=t},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41204:e=>{"use strict";e.exports=require("string_decoder")},42996:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,A:()=>n});let s=r(46101).createPool({host:"86.38.243.155",user:"u408450631_siri",password:"Siriart@2025",database:"u408450631_siri",waitForConnections:!0,connectionLimit:10,queueLimit:0});async function i(){return await s.getConnection()}let n=s},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66136:e=>{"use strict";e.exports=require("timers")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>y,serverHooks:()=>w,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{DELETE:()=>q});var i=r(96559),n=r(48088),o=r(37719),a=r(32190),u=r(29021),l=r.n(u),c=r(33873),p=r.n(c),d=r(42996);let x=p().join(process.cwd(),"app/data/json/bills.json");async function q(e,{params:t}){let r=t.id;try{let e;let t=l().readFileSync(x,"utf-8"),s=JSON.parse(t),i=s.findIndex(e=>e.id===r);if(-1===i)return a.NextResponse.json({message:"Bill not found"},{status:404});s.splice(i,1),l().writeFileSync(x,JSON.stringify(s,null,2));try{e=await d.A.getConnection(),await e.beginTransaction(),await e.query("DELETE FROM BillItems WHERE billId = ?",[r]),await e.query("DELETE FROM Bills WHERE id = ?",[r]);let t=new Date;await e.query("INSERT INTO sync_table (sync_time, change_type, change_data) VALUES (?, ?, ?)",[t,"delete",JSON.stringify({table:"Bills",id:r})]),await e.commit()}catch(t){throw e&&await e.rollback(),t}finally{e&&e.release()}return a.NextResponse.json({message:"Bill deleted successfully"})}catch(e){return console.error(e),a.NextResponse.json({message:"Internal Server Error"},{status:500})}}let y=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/bills/[id]/route",pathname:"/api/bills/[id]",filename:"route",bundlePath:"app/api/bills/[id]/route"},resolvedPagePath:"E:\\billing-app\\app\\api\\bills\\[id]\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:w}=y;function f(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},79551:e=>{"use strict";e.exports=require("url")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580,101],()=>r(79539));module.exports=s})();